(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ZeroLiveInWx199"],{"041d":function(e,t,n){e.exports=n.p+"img/4.dc5c5c8b.png"},"253a":function(e,t,n){e.exports=n.p+"img/2.78fab14a.png"},4019:function(e,t,n){},"4e6b":function(e,t,n){var r={"./1.png":"b61d","./2.png":"253a","./3.png":"affe","./4.png":"041d","./5.png":"fd04","./5c.png":"b738","./footer_img.png":"b94f","./icon_phone-arrow.png":"946b"};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id="4e6b"},6232:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("VanCountDown",{ref:"countDown",staticClass:"button",attrs:{millisecond:"",time:6e4,"time-data":"timeData","auto-start":!1,format:"ss"},on:{finish:e.finish},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"block",staticStyle:{"text-align":"center"},on:{click:e.start}},[e._v(e._s(t.milliseconds?t.seconds+"s":e.text))])]}}])})},o=[],s={props:{beforeSend:{type:Function,default:function(){}},text:{type:String,default:"获取验证码"}},data:function(){return{isFinish:!0}},methods:{finish:function(e){this.isFinish=!0,this.$refs.countDown.reset()},start:function(){this.$refs.countDown.timeData.milliseconds||(this.isFinish=!1,this.beforeSend(this.$refs.countDown.start))}}},a=s,i=(n("fd44"),n("2877")),c=Object(i["a"])(a,r,o,!1,null,"516eb4de",null);t["a"]=c.exports},"79a1":function(e,t,n){"use strict";n("4019")},"79f1":function(e,t,n){e.exports=n.p+"img/topBg199.a86ebcab.jpg"},"946b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAANCAYAAACgu+4kAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAADQAAAACsJSLBAAAAmklEQVQoFZ1SgQ2AIAwD4QY/IOEij9B7fEIfghfkCFxJZtTgRJcsDGhLm6BjjKNSqqf+U5vNOSdizn/YxBk67/1KA/prreB2YBljJq01nDQVsOAAXAScc4milIMWBWDBOQQwfIhSrPNDxQFv3qKcrTPnIvAW5Wy9KoBDIcrF+qMALu5RatZFgXuUmnUWENcQwoKWQFa65M8iYXYqxz9oiUTGCAAAAABJRU5ErkJggg=="},affe:function(e,t,n){e.exports=n.p+"img/3.a5a155ee.png"},b61d:function(e,t,n){e.exports=n.p+"img/1.60e35ddf.png"},b738:function(e,t,n){e.exports=n.p+"img/5c.870be6c7.png"},b94f:function(e,t,n){e.exports=n.p+"img/footer_img.d06526db.png"},c735f:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"zero"},[r("img",{staticClass:"zero__img-auto",attrs:{src:n("79f1")}}),r("div",{staticClass:"part6"},[r("VanForm",{ref:"form",attrs:{"validate-first":"","show-error":!1,"show-error-message":!1},on:{submit:e.onSubmit,failed:e.showErrorMsg}},[r("VanField",{attrs:{name:"phone",placeholder:"请输入手机号",rules:[{required:!0,message:"33003"},{pattern:e.phoneReg,message:"33004"}]},scopedSlots:e._u([{key:"left-icon",fn:function(){return[r("span",{staticClass:"prefix"},[e._v(" +86 "),r("span",{staticClass:"icon"},[e._v("▼")])])]},proxy:!0}]),model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),r("VanField",{attrs:{name:"code",placeholder:"请输入验证码",rules:[{required:!0,message:"33005"}]},scopedSlots:e._u([{key:"button",fn:function(){return[r("div",{staticClass:"code"},[r("CountDown",{attrs:{"before-send":e.beforeSend}})],1)]},proxy:!0}]),model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),r("div",{staticClass:"subBtn",on:{click:e.submit}},[e._v("199元抢购")])],1)],1),r("div",{staticClass:"zero__line-title"},[e._v("最新报名客户")]),r("VanSwipe",{staticClass:"zero__swipe-box",attrs:{autoplay:3e3,"show-indicators":!1,vertical:""}},e._l(e.swipeList,(function(t,n){return r("VanSwipeItem",{key:n},e._l(t,(function(t,n){return r("div",{key:n,staticClass:"zero__swipe-box__item"},[r("p",[e._v(e._s(t.phone))]),r("p",[e._v("报名成功")]),r("p",[e._v(e._s(t.time)+"秒前")])])})),0)})),1),e._l(e.detailImg,(function(e,t){return r("img",{key:t,staticClass:"zero__img-auto",attrs:{src:n("4e6b")("./"+e+".png")}})})),r("div",{staticClass:"zero__footer"},[e._m(0),r("div",{staticClass:"zero__footer__btn",on:{click:e.submit}},[r("span",[e._v("立即报名")])])])],2)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"zero__footer__topic"},[n("span",{staticClass:"zero__footer__topic__title"},[e._v("市场价:"),n("span",{staticClass:"price"},[e._v("199")]),e._v("元")])])}],s=n("5530"),a=n("1da1"),i=(n("4b0a"),n("2bb1")),c=(n("7844"),n("5596")),u=(n("d3b7"),n("96cf"),{30009:{msg:"您已经学习过此课程",report:{current_page:location.href,module_ori:"表单错误模块",module_part:"106_toufang_lcx_0387"}},30010:{msg:"您已购买过此课程",report:{current_page:location.href,module_ori:"表单错误模块",module_part:"106_toufang_lcx_0388"}},30011:{msg:"您已购买过此课程",report:{current_page:location.href,module_ori:"表单错误模块",module_part:"106_toufang_lcx_0389"}},30008:{msg:"该手机号被另一个微信绑定",report:{current_page:location.href,module_ori:"表单错误模块",module_part:"106_toufang_lcx_0390"}}}),f=n("ed08"),p=n("6232"),d=n("d69a"),m=n("2f62"),l={components:{VanSwipe:c["a"],VanSwipeItem:i["a"],CountDown:p["a"]},data:function(){return{detailImg:[1,2,3,4,"6c"],swipeList:[],paytype:1,form:{}}},beforeRouteEnter:function(e,t,n){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["a"])({getTokenQuery:Object(s["a"])({},Object(f["e"])())});case 2:n();case 3:case"end":return e.stop()}}),e)})))()},computed:Object(s["a"])({},Object(m["d"])("user",["userInfo"])),created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.checkOrderInWx(),e.getRecentBuy();case 2:case"end":return t.stop()}}),t)})))()},methods:{getRecentBuy:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$apis.userOperator.getLatestUser();case 2:n=t.sent,e.swipeList=Object(f["a"])(n,2);case 4:case"end":return t.stop()}}),t)})))()},submit:function(){this.$apis.userOperator.report(),this.$refs.form.submit()},onSubmit:function(e){localStorage.setItem("ZeroLiveInWx199-phone",this.form.phone),localStorage.setItem("ZeroLiveInWx199-code",this.form.code),this.pay()},beforeSend:function(e){var t=this;this.$refs.form.validate("phone").then((function(n){e(),t.$apis.userOperator.getPhoneCode({phone:t.form.phone})})).catch((function(e){e={code:e.message},t.showMsg(e)}))},showMsg:function(e){var t=this,n=e.msg,r=e.code,o="确定";30009===e.code&&(o="查看分班"),this.$dialog({message:n||u[r].msg,confirmButtonText:o}).then((function(e){30009===r&&t.goSucccess()}))},showErrorMsg:function(e){e={code:e.errors[0].message},this.showMsg(e)},checkOrderInWx:function(){var e=this;return this.$apis.payment.checkOrderInWx({product_sn:"PRODUCT_SN_XIAOBAI_199_MH_LIVE"}).catch((function(t){return e.payErrorBack(t),Promise.reject(t)}))},payErrorBack:function(e){var t=this;30009!==e.code?u[e.code]&&this.$dialog({message:e.msg||u[e.code].msg}).then((function(){})):this.$dialog({message:"您已学习过此课程",confirmButtonText:"查看老师"}).then((function(){t.$router.push({name:"QrcodeInWx",query:{productSn:e.data.product_sn}})}))},pay:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$apis.payment.payInWx(Object(s["a"])(Object(s["a"])(Object(s["a"])({pay_type:2,pay_mode:3},Object(f["e"])()),e.form),{},{product_sn:"PRODUCT_SN_XIAOBAI_199_MH_LIVE"})).then((function(t){window.WeixinJSBridge.invoke("getBrandWCPayRequest",t,(function(t){"get_brand_wcpay_request:ok"===t.err_msg&&e.$router.push({name:"QrcodeInWx",query:{productSn:"PRODUCT_SN_XIAOBAI_199_MH_LIVE"}})}))})).catch((function(t){e.payErrorBack(t)}));case 1:case"end":return t.stop()}}),t)})))()}}},g=l,A=(n("79a1"),n("2877")),_=Object(A["a"])(g,r,o,!1,null,"d239ce02",null);t["default"]=_.exports},cf61:function(e,t,n){},d69a:function(e,t,n){"use strict";var r=n("1da1"),o=(n("96cf"),n("4360"));t["a"]=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t||{},r=n.notUserInfo,s=n.notWxConfig,a=n.getTokenQuery,!localStorage.getItem("wxauth")){e.next=4;break}return e.next=4,o["a"].dispatch("user/getToken",a);case 4:if(r||o["a"].state.user.userInfo){e.next=7;break}return e.next=7,o["a"].dispatch("user/getUserInfo");case 7:if(s||o["a"].state.user.wxConfig){e.next=10;break}return e.next=10,o["a"].dispatch("user/getWxConfig");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fd04:function(e,t,n){e.exports=n.p+"img/5.273d7065.png"},fd44:function(e,t,n){"use strict";n("cf61")}}]);
//# sourceMappingURL=ZeroLiveInWx199.cc648560.js.map