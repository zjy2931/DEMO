{"version":3,"sources":["webpack:///./src/views/GetClassFile/index.vue?7cae","webpack:///src/views/GetClassFile/index.vue","webpack:///./src/views/GetClassFile/index.vue?38ac","webpack:///./src/views/GetClassFile/index.vue","webpack:///./src/helper/Auth/wxAuth.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","created","$apis","user","getClassFile","then","console","log","res","location","href","url","mounted","$wx","hideOptionMenu","component","model","notUserInfo","notWxConfig","getTokenQuery","localStorage","getItem","Store","dispatch","state","userInfo","wxConfig"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAClHC,EAAkB,G,4DCKtB,GACE,iBADF,SACA,oKACA,gBACA,oDAFA,OAIA,IAJA,8CAMEC,QAPF,WAQIP,KAAKQ,MAAMC,KAAKC,eAAeC,MAAK,SAAxC,GACMC,QAAQC,IAAIC,GACZC,SAASC,KAAOF,EAAIG,QAGxBC,QAbF,WAcIlB,KAAKmB,IAAIC,mBCpBiV,I,YCO1VC,EAAY,eACd,EACAvB,EACAQ,GACA,EACA,KACA,KACA,MAIa,aAAAe,E,mFCXf,gEAAe,WAAOC,GAAP,kGACuCA,GAAS,GAArDC,EADK,EACLA,YAAaC,EADR,EACQA,YAAaC,EADrB,EACqBA,eAE9BC,aAAaC,QAAQ,UAHZ,gCAILC,OAAMC,SAAS,gBAAiBJ,GAJ3B,UAORF,GAAgBK,OAAME,MAAMrB,KAAKsB,SAPzB,gCAQLH,OAAMC,SAAS,oBARV,UAWRL,GAAgBI,OAAME,MAAMrB,KAAKuB,SAXzB,kCAYLJ,OAAMC,SAAS,oBAZV,4CAAf","file":"js/GetClassFile.bec62dea.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"GetClassFile\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"GetClassFile\"></div>\n</template>\n<script>\nimport { getSearch } from '@/utils'\nimport wxAuth from '@/helper/Auth/wxAuth'\nexport default {\n  async beforeRouteEnter (to, from, next) {\n    await wxAuth({\n      getTokenQuery: { ...getSearch() }\n    })\n    next()\n  },\n  created () {\n    this.$apis.user.getClassFile().then(res => {\n      console.log(res)\n      location.href = res.url\n    })\n  },\n  mounted () {\n    this.$wx.hideOptionMenu()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=c174a758&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * @Date: 2021-01-14 20:38:58\n * @author: zjs\n * @description: 微信内的授权\n */\nimport Store from '@/store'\n\nexport default async (model) => {\n  const { notUserInfo, notWxConfig, getTokenQuery } = model || {}\n  // 换token\n  if (localStorage.getItem('wxauth')) {\n    await Store.dispatch('user/getToken', getTokenQuery)\n  }\n  // 获取用户信息\n  if (!notUserInfo && !Store.state.user.userInfo) {\n    await Store.dispatch('user/getUserInfo')\n  }\n  // 不存在微信授权信息，获取授权信息\n  if (!notWxConfig && !Store.state.user.wxConfig) {\n    await Store.dispatch('user/getWxConfig')\n  }\n}\n"],"sourceRoot":""}