(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["BaiduABPay"],{"0cb2":function(e,t,r){var a=r("7b0b"),n=Math.floor,c="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,i=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,u,s,l){var d=r+e.length,p=u.length,f=i;return void 0!==s&&(s=a(s),f=o),c.call(l,f,(function(a,c){var o;switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(d);case"<":o=s[c.slice(1,-1)];break;default:var i=+c;if(0===i)return a;if(i>p){var l=n(i/10);return 0===l?a:l<=p?void 0===u[l-1]?c.charAt(1):u[l-1]+c.charAt(1):a}o=u[i-1]}return void 0===o?"":o}))}},"2d41":function(e,t,r){},"3ed4":function(e,t,r){"use strict";function a(){var e=localStorage.getItem("getCodeTime");return(new Date).getTime()-e<9e5}function n(){var e=JSON.parse(localStorage.getItem("lastPayQuery"))||{},t=e.phone,r=e.code;this.phone=t,a()&&(this.code=r)}r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n}))},"4c44":function(e,t,r){"use strict";r.d(t,"e",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return d})),r.d(t,"c",(function(){return p}));var a=r("5530"),n=(r("99af"),r("6088")),c=r("5d86"),o=r("ed08"),i=r("8bba");function u(){Object(n["a"])({module_ori:"表单提交",module_part:this.SUBMIT_BTN})}function s(e){console.log(e);var t={33002:this.ERROR_CODE,30001:this.STUDENT_OVER};t[e.code]&&Object(n["a"])({module_ori:"表单错误模块",module_part:t[e.code]})}function l(){Object(n["a"])({module_ori:"表单提交",module_part:this.GET_CODE})}function d(){Object(n["a"])({module_ori:"表单错误模块",module_part:this.ERROR_PHONE})}function p(e){var t=this.phone,r=this.code,n=this.paytype,u=this.successPag,s=Object(o["e"])("id"),l=location,d=l.origin,p=l.pathname,f=JSON.parse(localStorage.getItem("groupInfo")),m=Object(a["a"])(Object(a["a"])({return_url:encodeURIComponent("".concat(d).concat(p,"#/").concat(u)),phone:t,code:r,product_sn:"PRODUCT_SN_XIAOBAI_12",pay_type:n,id:s},Object(c["a"])()),{},{ext_param:[Object(a["a"])(Object(a["a"])({},f),i["b"])]},e);return m}},"4f6c":function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return m})),r.d(t,"d",(function(){return _})),r.d(t,"a",(function(){return h}));var a=r("5530"),n=r("1da1"),c=(r("96cf"),r("caad"),r("ac1f"),r("5319"),r("d3b7"),r("4360")),o=r("a18c"),i=r("5d86"),u=r("ed08"),s={PRODUCT_SN_XIAOBAI_12:"SuccessEnrollWM",PRODUCT_SN_XIAOBAI_7:"SuccessEnrollWM",PRODUCT_SN_XIAOBAI_1:"SuccessEnrollMH",PRODUCT_SN_XIAOBAI_0:"SuccessEnrollMH"},l=[30006,30009];function d(e){var t=e.code,r=e.data;return l.includes(t)&&s[r.product_sn]?(localStorage.setItem("guide_order_num",r.order_num),o["a"].replace({name:"Officals"}),t):t}function p(e){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("buyPhone"),a=t||r,Object(u["g"])(a)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,c["a"].$apis.payment.checkOrder({phone:a}).catch((function(e){return d(e),Promise.reject(e)}));case 6:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function m(e){return b.apply(this,arguments)}function b(){return b=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,c,o,i,u,s,l,d,p,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t||{},a=r.apiQuery,n=r.successBack,c=r.payOverBack,o=r.errorBack,e.prev=1,"function"===typeof n&&n(),i=a.phone,u=a.code,s=a.paytype,localStorage.setItem("buyPhone",i),localStorage.setItem("guide_phone",i),localStorage.setItem("code",u),localStorage.setItem("payType",s),localStorage.setItem("lastPayQuery",JSON.stringify(a)),e.next=11,this.$apis.payment.pay(a);case 11:l=e.sent,d=l.url,d?(localStorage.setItem("backDialogMark",!0),this.$store.commit("ABTest/SET_BACK_DIALOG_MARK",!0),"function"===typeof c&&c(),location.href=decodeURIComponent(d)):("function"===typeof c&&c(),localStorage.setItem("backDialogMark",!0),this.$store.commit("ABTest/SET_BACK_DIALOG_MARK",!0),p=document.getElementById("aLiPay"),p&&p.parentNode.removeChild(p),f=document.createElement("div"),f.id="aLiPay",f.innerHTML=l,document.body.appendChild(f),document.forms[0].submit()),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](1),m=e.t0.data,"function"===typeof o&&o(m);case 20:case"end":return e.stop()}}),e,this,[[1,16]])}))),b.apply(this,arguments)}function _(e){return g.apply(this,arguments)}function g(){return g=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.phone,a=t.code,Object(u["g"])(r)){e.next=4;break}return e.abrupt("return",Promise.reject({code:33001,msg:"手机号有误，请重填"}));case 4:return e.next=6,c["a"].$apis.userOperator.phoneCheckCode({phone:r,code:a});case 6:return e.next=8,c["a"].$apis.payment.checkOrderInWx();case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0.data));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),g.apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return v=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].$apis.payment.payInWx(Object(a["a"])(Object(a["a"])({pay_type:2,pay_mode:3},t),Object(i["a"])()));case 3:return r=e.sent,e.abrupt("return",new Promise((function(e){window.WeixinJSBridge.invoke("getBrandWCPayRequest",r,(function(t){e(t.err_msg)}))})));case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",Promise.reject(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),v.apply(this,arguments)}},5319:function(e,t,r){"use strict";var a=r("d784"),n=r("d039"),c=r("825a"),o=r("50c4"),i=r("a691"),u=r("1d80"),s=r("8aa5"),l=r("0cb2"),d=r("14c3"),p=r("b622"),f=p("replace"),m=Math.max,b=Math.min,_=function(e){return void 0===e?e:String(e)},g=function(){return"$0"==="a".replace(/./,"$0")}(),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),v=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));a("replace",(function(e,t,r){var a=h?"$":"$0";return[function(e,r){var a=u(this),n=void 0==e?void 0:e[f];return void 0!==n?n.call(e,a,r):t.call(String(a),e,r)},function(e,n){if("string"===typeof n&&-1===n.indexOf(a)&&-1===n.indexOf("$<")){var u=r(t,this,e,n);if(u.done)return u.value}var p=c(this),f=String(e),g="function"===typeof n;g||(n=String(n));var h=p.global;if(h){var v=p.unicode;p.lastIndex=0}var y=[];while(1){var O=d(p,f);if(null===O)break;if(y.push(O),!h)break;var k=String(O[0]);""===k&&(p.lastIndex=s(f,o(p.lastIndex),v))}for(var x="",C=0,B=0;B<y.length;B++){O=y[B];for(var S=String(O[0]),j=m(b(i(O.index),f.length),0),R=[],w=1;w<O.length;w++)R.push(_(O[w]));var I=O.groups;if(g){var T=[S].concat(R,j,f);void 0!==I&&T.push(I);var E=String(n.apply(void 0,T))}else E=l(S,f,j,R,I,n);j>=C&&(x+=f.slice(C,j)+E,C=j+S.length)}return x+f.slice(C)}]}),!v||!g||h)},"54b4":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{on:{click:e.getPhoneCode}},[e._v(" "+e._s(e.codeTime?e.codeTime+"s":"获取验证码")+" ")])},n=[],c=r("5530"),o=r("1da1"),i=(r("96cf"),r("8b2e")),u={props:{getCodeSuccessBack:{type:Function,default:null},getCodeErrorBack:{type:Function,default:null},phone:{type:String,default:""},params:{type:Object,default:function(){return{}}}},data:function(){return{codeTime:0,timerObj:1}},methods:{getPhoneCode:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n,o,u,s,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.successBack,n=void 0===a?t.getCodeSuccessBack:a,o=e.errorBack,u=void 0===o?t.getCodeErrorBack:o,s=t.phone,l=t.codeTime,!l){r.next=4;break}return r.abrupt("return");case 4:if(Object(i["a"])(s)){r.next=7;break}return"function"===typeof u&&u(),r.abrupt("return");case 7:return r.prev=7,t.codeTime=60,t.timerObj=setInterval((function(){t.codeTime--,t.codeTime||clearInterval(t.timerObj)}),1e3),r.next=12,t.$apis.userOperator.getPhoneCode(Object(c["a"])({phone:s},t.params));case 12:localStorage.setItem("getCodeTime",(new Date).getTime()),"function"===typeof n&&n(),r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](7),"function"===typeof u&&u(r.t0);case 19:case"end":return r.stop()}}),r,null,[[7,16]])})))()}}},s=u,l=r("2877"),d=Object(l["a"])(s,a,n,!1,null,null,null);t["a"]=d.exports},"5b9d":function(e,t,r){"use strict";r("f768")},"5d86":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var a=r("5530"),n=(r("ac1f"),r("841c"),r("ed08"));function c(){var e=location,t=e.protocol,r=e.host,c=e.hash,o=e.search,i=e.pathname;return Object(a["a"])(Object(a["a"])({},Object(n["e"])()),{},{protocol:t,host:r,link:i+o+c})}},6088:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r("4360");function n(e){a["a"].$log.click({current_page:location.href,module_ori:e.module_ori,module_part:e.module_part})}},"6a35":function(e,t,r){"use strict";r("2d41")},"8b2e":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("e17f");var a=r("2241");function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"手机号码有误，请重填";return e?!!/^[1]([3-9])[0-9]{9}$/.test(e)||(Object(a["a"])({message:t}),!1):(Object(a["a"])({message:"请填写手机号"}),!1)}},"8bba":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n}));var a={domain:"pdd_ab",abKey:"bd_h5"},n="Throw_pdd_ab_bd_h5"},9191:function(e,t,r){e.exports=r.p+"img/wxLogo.b3709f1b.png"},9513:function(e,t,r){e.exports=r.p+"img/moneyUp.db0534a6.png"},a7dc:function(e,t,r){e.exports=r.p+"img/aLiLogo.36bfab56.png"},d1c4:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-baiduABPay"},[a("div",{staticClass:"content"},[a("div",{staticClass:"card-box phone-box mt__20"},[a("VanField",{attrs:{clearable:"",label:"手机号",placeholder:"请输入手机号"},model:{value:e.phone,callback:function(t){e.phone="string"===typeof t?t.trim():t},expression:"phone"}}),a("VanField",{attrs:{clearable:"",label:"验证码",placeholder:"请输入验证码"},scopedSlots:e._u([{key:"button",fn:function(){return[a("CountDownBtn",{staticClass:"phone-code",attrs:{phone:e.phone,"get-code-success-back":e.getCodeSuccessBack,"get-code-error-back":e.getCodeErrorBack}})]},proxy:!0}]),model:{value:e.code,callback:function(t){e.code="string"===typeof t?t.trim():t},expression:"code"}})],1),a("div",{staticClass:"card-box mt__20"},[a("div",{staticClass:"shop-box"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:r("9513")}})]),e._m(0)]),a("div",{staticClass:"pay-box mt__20"},[a("div",{staticClass:"pay-text"},[e._v("支付方式")]),a("VanRadioGroup",{model:{value:e.paytype,callback:function(t){e.paytype=t},expression:"paytype"}},e._l(e.payTypeList,(function(t,r){return a("div",{key:r,class:["pay-item",{mt__40:r}]},[a("img",{attrs:{src:t.img}}),a("VanRadio",{attrs:{name:t.key,"checked-color":"#FB404A"}},[e._v(e._s(t.label))])],1)})),0)],1)])]),a("div",{staticClass:"submit-box"},[e._m(1),a("div",{staticClass:"submit-btn",on:{click:e.bottomPayClick}},[e._v("立即支付")])]),a("BackDialog",{on:{backDiaLogSubmit:e.backDiaLogSubmit}})],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-text-box"},[r("div",{staticClass:"money_up-title"},[e._v(" 微淼小白理财训练营 1天1元学理财 ")]),r("div",{staticClass:"text__box"},[r("span",{staticClass:"text__money"},[e._v("￥12")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text__box"},[r("div",{staticClass:"text__money-icon"},[e._v("￥")]),r("div",{staticClass:"text__money"},[e._v("12")])])}],c=(r("e17f"),r("2241")),o=r("5530"),i=r("1da1"),u=(r("a9e3"),r("d3b7"),r("96cf"),{GET_CODE:"106_toufang_lcx_0106",SUBMIT_BTN:"106_toufang_lcx_0107",ERROR_PHONE:"106_toufang_lcx_0108",ERROR_CODE:"106_toufang_lcx_0109",STUDENT_OVER:"106_toufang_lcx_0111",WX_BTN:"106_toufang_lcx_0112",ALI_BTN:"106_toufang_lcx_0113",BOTTOM_BTN:"106_toufang_lcx_0114"}),s=r("4360"),l=r("e14a"),d=r("3ed4"),p=r("54b4"),f=r("4f6c"),m=r("4c44"),b=r("6088"),_=r("ed08"),g={components:{BackDialog:l["a"],CountDownBtn:p["a"]},beforeRouteEnter:function(e,t,r){return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=JSON.parse(localStorage.getItem("groupInfo")||"{}"),s["a"].$log.update({alternate:localStorage.getItem("throwOtherLog")}),"C"===a.group){t.next=4;break}return t.abrupt("return",r({name:"BaiduAB",query:e.query}));case 4:r();case 5:case"end":return t.stop()}}),t)})))()},data:function(){return Object(o["a"])(Object(o["a"])({phone:"",code:"",timer:null,paytype:2,successPag:"Officals"},u),{},{payTypeList:[{img:r("9191"),label:"微信支付",key:2},{img:r("a7dc"),label:"支付宝支付",key:1}]})},created:function(){var e=this;this.isBuyOrder(),this.timer=setInterval(Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.isBuyOrder();case 2:r=t.sent,r&&3e4!==r&&(clearInterval(e.timer),e.timer=null);case 4:case"end":return t.stop()}}),t)}))),3e3),window.onpageshow=function(e){e.persisted&&window.location.reload()},this.initPhoneForm();var t=JSON.parse(localStorage.getItem("lastPayQuery"))||{};t&&t.pay_type&&(this.paytype=Number(t.pay_type)||2)},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},methods:{isBuyOrder:f["b"],initPhoneForm:d["a"],submitPay:f["c"],paySuccessBack:m["e"],payErrorBack:m["d"],getCodeSuccessBack:m["b"],getCodeErrorBack:m["a"],getPayQuery:m["c"],submitValed:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,r=e.phone,a=e.code,Object(_["g"])(r)){t.next=6;break}return Object(c["a"])({message:"手机号码有误，请重填"}),Object(b["a"])({module_ori:"表单错误模块",module_part:e.ERROR_PHONE}),t.abrupt("return",Promise.reject(r||"手机号码有误，请重填"));case 6:return t.next=8,e.$apis.userOperator.phoneCheckCode({phone:r,code:a});case 8:return t.next=10,Object(f["b"])(r);case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t["catch"](0),33002===t.t0.data.code&&Object(b["a"])({module_ori:"表单错误模块",module_part:e.ERROR_CODE}),t.abrupt("return",Promise.reject(t.t0.data.code));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},bottomPayClick:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(b["a"])({module_ori:"底部悬浮栏",module_part:e.BOTTOM_BTN}),t.next=3,e.submitValed();case 3:e.submitPay({apiQuery:e.getPayQuery({return_url:encodeURIComponent(location.href)}),errorBack:e.payErrorBack});case 4:case"end":return t.stop()}}),t)})))()},backDiaLogSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.submitValed();case 2:r=JSON.parse(localStorage.getItem("lastPayQuery")),e.submitPay({apiQuery:e.getPayQuery(Object(o["a"])(Object(o["a"])({},r),{},{return_url:encodeURIComponent(location.href)})),successBack:e.paySuccessBack,errorBack:e.payErrorBack});case 4:case"end":return t.stop()}}),t)})))()}}},h=g,v=(r("5b9d"),r("2877")),y=Object(v["a"])(h,a,n,!1,null,null,null);t["default"]=y.exports},e14a:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("VanDialog",{attrs:{"show-confirm-button":!1},model:{value:e.backDialogMark,callback:function(t){e.backDialogMark=t},expression:"backDialogMark"}},[r("div",{staticClass:"components-backDialog"},[r("div",{staticClass:"title"},[e._v("要放弃付款吗？")]),r("div",{staticClass:"money-box"}),r("div",{staticClass:"btn-box"},[r("div",{staticClass:"btn__notPay",on:{click:e.removeBackDialogMark}},[e._v("放弃支付")]),r("div",{staticClass:"btn__pay",on:{click:e.payNext}},[e._v("继续支付 ")])])])])},n=[],c=r("6088"),o=r("3ed4"),i={computed:{backDialogMark:{get:function(){return this.$store.state.ABTest.backDialogMark},set:function(){}}},created:function(){var e=this;Object(o["b"])()&&setTimeout((function(){e.$store.commit("ABTest/SET_BACK_DIALOG_MARK",!!JSON.parse(localStorage.getItem("backDialogMark")))}),1300)},methods:{removeBackDialogMark:function(){Object(c["a"])({module_ori:"支付挽留弹窗",module_part:"106_toufang_lcx_0115"}),localStorage.removeItem("backDialogMark"),this.$store.commit("ABTest/SET_BACK_DIALOG_MARK",!1)},payNext:function(){Object(c["a"])({module_ori:"支付挽留弹窗",module_part:"106_toufang_lcx_0116"}),this.$emit("backDiaLogSubmit"),this.removeBackDialogMark()}}},u=i,s=(r("6a35"),r("2877")),l=Object(s["a"])(u,a,n,!1,null,null,null);t["a"]=l.exports},f768:function(e,t,r){}}]);
//# sourceMappingURL=BaiduABPay.78f3cb1c.js.map