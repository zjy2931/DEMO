(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["QrcodeInWx"],{"1d40":function(e,t,n){"use strict";n("8fbe")},3182:function(e,t,n){},"47e1":function(e,t,n){"use strict";n("3182")},"54b4":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{on:{click:e.getPhoneCode}},[e._v(" "+e._s(e.codeTime?e.codeTime+"s":"获取验证码")+" ")])},a=[],o=n("5530"),i=n("1da1"),c=(n("96cf"),n("8b2e")),s={props:{getCodeSuccessBack:{type:Function,default:null},getCodeErrorBack:{type:Function,default:null},phone:{type:String,default:""},params:{type:Object,default:function(){return{}}}},data:function(){return{codeTime:0,timerObj:1}},methods:{getPhoneCode:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.successBack,a=void 0===r?t.getCodeSuccessBack:r,i=e.errorBack,s=void 0===i?t.getCodeErrorBack:i,u=t.phone,d=t.codeTime,!d){n.next=4;break}return n.abrupt("return");case 4:if(Object(c["a"])(u)){n.next=7;break}return"function"===typeof s&&s(),n.abrupt("return");case 7:return n.prev=7,t.codeTime=60,t.timerObj=setInterval((function(){t.codeTime--,t.codeTime||clearInterval(t.timerObj)}),1e3),n.next=12,t.$apis.userOperator.getPhoneCode(Object(o["a"])({phone:u},t.params));case 12:localStorage.setItem("getCodeTime",(new Date).getTime()),"function"===typeof a&&a(),n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](7),"function"===typeof s&&s(n.t0);case 19:case"end":return n.stop()}}),n,null,[[7,16]])})))()}}},u=s,d=n("2877"),l=Object(d["a"])(u,r,a,!1,null,null,null);t["a"]=l.exports},"5d86":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5530"),a=(n("ac1f"),n("841c"),n("ed08"));function o(){var e=location,t=e.protocol,n=e.host,o=e.hash,i=e.search,c=e.pathname;return Object(r["a"])(Object(r["a"])({},Object(a["e"])()),{},{protocol:t,host:n,link:c+i+o})}},6088:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("4360");function a(e){r["a"].$log.click({current_page:location.href,module_ori:e.module_ori,module_part:e.module_part})}},6179:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAcCAMAAAA+9+1qAAAAhFBMVEUAAAD///+AgIBAQEBVVVUzMzM7Ozs2NjY6OjozMzM1NTU2NjY1NTU2NjY1NTU0NDQ2NjY0NDQ1NTU1NTU0NDQ1NTU0NDQ0NDQ0NDQ0NDQ0NDQ0NDQzMzM0NDQ0NDQzMzMzMzM0NDQ0NDQzMzM0NDQzMzMzMzM0NDQzMzM0NDQzMzMzMzOews9pAAAAK3RSTlMAAQIEBgoNExYZHSYrNDpFTFlgZWx5gI2UoaittMDG0NXe4urt8PP3+fz+airUxAAAAK1JREFUGBmFwYkWQlAABcArlBRFhRZE0XL///9y5Ci8ZQZnap2xrKhRLYEdNXYAjJRKqYHG6kGFxwqtAxUO+DJzSuUmOt6LEi8PvZgSMX7sgkKFjT8bCm0wcKTAEUOLGyduC4wEnAgwceHIBVNuzYHahcCeA3uIzDL+yWYQWj/Ze64hEbEXQca6snO1IOW/2Xr7UEjYSqAyL9ko51DasrGFxok8Qce53x1ohSHGPtYxVP8hArFRAAAAAElFTkSuQmCC"},"6f50":function(e,t,n){e.exports=n.p+"img/payOver.e50777e8.png"},7845:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-teacherQrCode"},[r("BindPhone"),r("div",{staticClass:"static-box mt__50"},[r("img",{staticClass:"static-img",attrs:{src:n("6f50")}}),r("div",{staticClass:"ml__10"},[e._v("已付款")])]),r("div",{staticClass:"mt__20 git-box"},[r("img",{attrs:{src:n("ad00")}})]),r("div",{staticClass:"content-title mt__20"},[e._v("请务必扫码添加, 否则无法上课")]),r("div",{staticClass:"qrCode-box"},[r("img",{ref:"qrcode",attrs:{src:e.teacherCodeImg}})]),r("div",{staticClass:"qrCode-text"},[e._v("长按识别二维码, 添加老师微信")]),r("div",{staticClass:"qrCode-topic"},[e._v("*老师会在24小时内通过好友申请, 不会影响上课")])],1)},a=[],o=n("5530"),i=n("1da1"),c=(n("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"phone-box"},[e.hasBindPhone?e._e():[e._m(0),r("div",{staticClass:"ml__40 mt__30 btn__bind",on:{click:function(t){e.isBinding=!0}}},[e._v(" 立即绑定 ")])],r("VanPopup",{staticClass:"pb__40",style:{height:"auto"},attrs:{closeable:"","close-icon":"close",position:"top",round:""},model:{value:e.isBinding,callback:function(t){e.isBinding=t},expression:"isBinding"}},[r("div",{staticClass:"bind-title"},[e._v("请输入手机号以便接收课程信息")]),r("div",{staticClass:"popup-item mt__30"},[r("div",{staticClass:"label"},[e._v(" +86 "),r("img",{attrs:{src:n("6179"),alt:""}})]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.phone,expression:"phone",modifiers:{trim:!0}}],attrs:{placeholder:"请输入手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("div",{staticClass:"popup-item__code pl__150"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.code,expression:"code",modifiers:{trim:!0}}],attrs:{placeholder:"请输入验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("CountDownBtn",{staticClass:"phone-code",attrs:{phone:e.phone,"get-code-success-back":e.getCodeSuccessBack}})],1),r("div",{staticClass:"bind-topic mt__40"},[e._v("* 如长时间收不到验证码 *")]),r("div",{staticClass:"bind-topic mt__10"},[e._v(" 可点击右上角关闭，添加老师微信后再绑定 ")]),r("div",{staticClass:"bind-btn",on:{click:e.submitBind}},[e._v("提交")])]),e.hasBindPhone?[r("div",{staticClass:"bind__phone phone-title"},[e._v("您当前绑定手机号为："+e._s(e.phone))])]:e._e()],2)}),s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ml__90 mt__30"},[n("div",{staticClass:"phone-title"},[e._v("您当前还未绑定手机号")]),n("div",{staticClass:"phone-desc"},[e._v("绑定手机号用于接收课程信息")])])}],u=(n("e7e5"),n("d399")),d=(n("e17f"),n("2241")),l=n("4360"),p=n("6088"),m=n("54b4"),f=n("d69a"),h=n("5d86"),g=n("ed08"),v=n("2f62"),b={name:"BindPhone",components:{CountDownBtn:m["a"]},data:function(){return{phone:"",code:"",isBinding:!1,hasBindPhone:!1}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["a"])({getTokenQuery:Object(h["a"])()});case 2:return t.next=4,e.getUserInfo();case 4:n=l["a"].state.user.userInfo||{},r=n.mobile,e.phone=r,e.hasBindPhone=!!r,e.isBinding=!r;case 8:case"end":return t.stop()}}),t)})))()},methods:Object(o["a"])(Object(o["a"])({},Object(v["b"])("user",["getUserInfo"])),{},{submitBind:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Object(p["a"])({module_ori:"表单模块",module_part:"106_toufang_lcx_0134"}),n=e.phone,r=e.code,Object(g["g"])(n)){t.next=5;break}return Object(d["a"])({message:"手机号码有误，请重填"}),t.abrupt("return");case 5:if(r){t.next=8;break}return Object(d["a"])({message:"请输入手机号验证码"}),t.abrupt("return");case 8:return t.next=10,e.$apis.baiduPcPayOrder.bindPhone({phone:n,code:r});case 10:e.isBinding=!1,e.hasBindPhone=!0,Object(u["a"])("绑定成功");case 13:case"end":return t.stop()}}),t)})))()},getCodeSuccessBack:function(){Object(p["a"])({module_ori:"表单模块",module_part:"106_toufang_lcx_0133"})}})},_=b,C=(n("47e1"),n("2877")),x=Object(C["a"])(_,c,s,!1,null,null,null),O=x.exports,A={components:{BindPhone:O},data:function(){return{teacherCodeImg:""}},beforeRouteEnter:function(e,t,n){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["a"])({getTokenQuery:Object(h["a"])()});case 2:n();case 3:case"end":return e.stop()}}),e)})))()},computed:Object(o["a"])({},Object(v["d"])("user",["userInfo"])),mounted:function(){var e=this;this.$log.addLongEvent(this.$refs.qrcode,(function(t){var n=Object(g["e"])();e.$log.long({current_page:location.href,module_ori:"老师二维模块",module_part:"106_toufang_lcx_0205"}),e.$apis.userOperator.pressClassQr(n)}))},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:wx.ready((function(){wx.hideAllNonBaseMenuItem()})),e.getCOde();case 2:case"end":return t.stop()}}),t)})))()},methods:{getCOde:function(){var e=this,t=4;this.getQRcode(),this.timer=setInterval(Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t--,t<=0&&clearInterval(e.timer),e.getQRcode();case 3:case"end":return n.stop()}}),n)}))),1e3)},getQRcode:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.userInfo.mobile,r=e.$route.query.productSn||"PRODUCT_SN_XIAOBAI_0",t.next=4,e.$apis.baiduPcPayOrder.getClassQr({product_sn:r,phone:n});case 4:a=t.sent,e.teacherCodeImg=a.qr_url;case 6:case"end":return t.stop()}}),t)})))()}}},j=A,w=(n("1d40"),Object(C["a"])(j,r,a,!1,null,null,null));t["default"]=w.exports},"8b2e":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("e17f");var r=n("2241");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"手机号码有误，请重填";return e?!!/^[1]([3-9])[0-9]{9}$/.test(e)||(Object(r["a"])({message:t}),!1):(Object(r["a"])({message:"请填写手机号"}),!1)}},"8fbe":function(e,t,n){},ad00:function(e,t,n){e.exports=n.p+"img/down.6864b235.gif"},d69a:function(e,t,n){"use strict";var r=n("1da1"),a=(n("96cf"),n("4360"));t["a"]=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t||{},r=n.notUserInfo,o=n.notWxConfig,i=n.getTokenQuery,!localStorage.getItem("wxauth")){e.next=4;break}return e.next=4,a["a"].dispatch("user/getToken",i);case 4:if(r||a["a"].state.user.userInfo){e.next=7;break}return e.next=7,a["a"].dispatch("user/getUserInfo");case 7:if(o||a["a"].state.user.wxConfig){e.next=10;break}return e.next=10,a["a"].dispatch("user/getWxConfig");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=QrcodeInWx.c1cde00d.js.map