{"version":3,"sources":["webpack:///./src/views/Scene/LiveEnhance12Wx/index.vue?7b1a","webpack:///./src/assets/Scene/LiveEnhance12/detail4.png","webpack:///./src/assets/Scene/LiveEnhance12/detail3.png","webpack:///./src/views/Scene/LiveEnhance12Wx/index.vue?d388","webpack:///./src/views/Scene/LiveEnhance12Wx/ErrorMsg.js","webpack:///src/views/Scene/LiveEnhance12Wx/index.vue","webpack:///./src/views/Scene/LiveEnhance12Wx/index.vue?6b6e","webpack:///./src/views/Scene/LiveEnhance12Wx/index.vue","webpack:///./src/assets/Scene/LiveEnhance12/detail1.png","webpack:///./src/assets/Scene/LiveEnhance12/detail2.png","webpack:///./src/views/Scene/components/Tips.vue?859e","webpack:///src/views/Scene/components/Tips.vue","webpack:///./src/views/Scene/components/Tips.vue?ff92","webpack:///./src/views/Scene/components/Tips.vue","webpack:///./src/helper/Auth/wxAuth.js","webpack:///./src/assets/Scene/LiveEnhance12 sync ^\\.\\/.*\\.png$","webpack:///./src/views/Scene/components/Tips.vue?d5e5"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","on","onSubmit","showErrorMsg","required","message","pattern","phoneReg","onPhoneChange","scopedSlots","_u","key","fn","proxy","model","value","form","callback","$$v","$set","expression","directives","name","rawName","beforeSend","Msubmit","_l","v","k","localKey","submit12","submit199","changeSn","showTips","cancel","confirm","showDialog","staticRenderFns","codeMap","30009","msg","report","current_page","location","href","module_ori","module_part","30010","30011","30008","33002","33003","33004","33005","components","CountDown","RecentBuy2","Footer","Tips","StayDialog","data","detailImg","swipeList","paytype","isShowCode","computed","methods","$log","click","submit","$refs","e","length","sn","localStorage","setItem","phone","code","pay","goSucccess","console","log","$router","push","query","productSn","showMsg","err","confirmButtonText","$dialog","includes","Number","checkOrderInWx","$apis","payment","checkOrderInWxInterval","component","this$1","val","$emit","$event","props","type","Boolean","default","notUserInfo","notWxConfig","getTokenQuery","getItem","Store","dispatch","state","user","userInfo","wxConfig","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","Error","keys","Object","resolve"],"mappings":"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","file":"js/LiveEnhance12Wx.963a91a5.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=78f5becd&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/detail4.98cff1c4.png\";","module.exports = __webpack_public_path__ + \"img/detail3.2029eb85.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"LiveEnhance12Wx\"},[_c('img',{attrs:{\"src\":\"https://wm-front-common.oss-cn-beijing.aliyuncs.com/wm-front-landing-page-mobile-custom/assets/Scene/LiveEnhance12/headerLiveEn.png\",\"alt\":\"\"}}),_c('div',{staticClass:\"formPay\"},[_c('div',{staticClass:\"formTips\"},[_vm._v(\"- 开课3天不满意无条件退款 -\")]),_c('VanForm',{ref:\"form\",attrs:{\"validate-first\":\"\",\"show-error\":false,\"show-error-message\":false},on:{\"submit\":_vm.onSubmit,\"failed\":_vm.showErrorMsg}},[_c('VanField',{ref:\"phone\",attrs:{\"name\":\"phone\",\"type\":\"tel\",\"placeholder\":\"请填写手机号\",\"rules\":[\n          { required: true, message: '33003' },\n          {\n            pattern: _vm.phoneReg,\n            message: '33004',\n          } ]},on:{\"input\":_vm.onPhoneChange},scopedSlots:_vm._u([{key:\"left-icon\",fn:function(){return [_c('span',{staticClass:\"prefix\"},[_vm._v(\" +86 \"),_c('span',{staticClass:\"icon\"},[_vm._v(\"▼\")])])]},proxy:true}]),model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}}),_c('VanField',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowCode),expression:\"isShowCode\"}],ref:\"code\",attrs:{\"name\":\"code\",\"type\":\"digit\",\"placeholder\":\"请填写验证码\",\"rules\":[{ required: true, message: '33005' }]},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('div',{staticClass:\"code\"},[_c('CountDown',{ref:\"formCount\",attrs:{\"before-send\":_vm.beforeSend}})],1)]},proxy:true}]),model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}}),_c('div',{staticClass:\"submit\",on:{\"click\":_vm.Msubmit}},[_vm._v(\"立即抢购\")])],1)],1),_c('div',{staticClass:\"line\"}),_c('RecentBuy2'),_vm._l((_vm.detailImg),function(v,k){return _c('img',{key:k,attrs:{\"src\":require((\"@/assets/Scene/LiveEnhance12/\" + v + \".png\")),\"alt\":\"\"}})}),_c('Footer',{attrs:{\"local-key\":_vm.localKey},on:{\"submit\":_vm.submit12,\"submit199\":_vm.submit199,\"finish\":_vm.changeSn}}),_c('Tips',{model:{value:(_vm.showTips),callback:function ($$v) {_vm.showTips=$$v},expression:\"showTips\"}}),_c('StayDialog',{attrs:{\"is-live\":true},on:{\"cancel\":_vm.cancel,\"confirm\":_vm.confirm},model:{value:(_vm.showDialog),callback:function ($$v) {_vm.showDialog=$$v},expression:\"showDialog\"}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const codeMap = {\n  30009: {\n    msg: '您已经学习过此课程',\n    report: {\n      current_page: location.href,\n      module_ori: '表单错误模块',\n      module_part: '106_toufang_lm_0449'\n    }\n  },\n  30010: {\n    msg: '您已购买过此课程',\n    report: {\n      current_page: location.href,\n      module_ori: '表单错误模块',\n      module_part: '106_toufang_lm_0450'\n    }\n  },\n  30011: {\n    msg: '您已购买过此课程',\n    report: {\n      current_page: location.href,\n      module_ori: '表单错误模块',\n      module_part: '106_toufang_lm_0451'\n    }\n  },\n  30008: {\n    msg: '该手机号被另一个微信绑定',\n    report: {\n      current_page: location.href,\n      module_ori: '表单错误模块',\n      module_part: '106_toufang_lm_0452'\n    }\n  },\n  33002: {\n    msg: '验证码有误,请重填',\n    report: {\n      current_page: location.href,\n      module_ori: '表单错误模块',\n      module_part: '106_toufang_lm_0448'\n    }\n  },\n  // 一下为自定义code 如有和后端接口冲突 自行修改\n  33003: {\n    msg: '请填写手机号',\n    report: {\n      current_page: location.href,\n      module_ori: '表单错误模块',\n      module_part: '106_toufang_lm_0445'\n    }\n  },\n  33004: {\n    msg: '手机号有误,请重新填',\n    report: {\n      current_page: location.href,\n      module_ori: '表单错误模块',\n      module_part: '106_toufang_lm_0446'\n    }\n  },\n  33005: {\n    msg: '请填写验证码',\n    report: {\n      current_page: location.href,\n      module_ori: '表单错误模块',\n      module_part: '106_toufang_lm_0447'\n    }\n  }\n}\n","<template>\r\n  <div class=\"LiveEnhance12Wx\">\r\n    <img src=\"https://wm-front-common.oss-cn-beijing.aliyuncs.com/wm-front-landing-page-mobile-custom/assets/Scene/LiveEnhance12/headerLiveEn.png\" alt=\"\" />\r\n    <div class=\"formPay\">\r\n      <div class=\"formTips\">- 开课3天不满意无条件退款 -</div>\r\n      <VanForm\r\n        @submit=\"onSubmit\"\r\n        @failed=\"showErrorMsg\"\r\n        ref=\"form\"\r\n        validate-first\r\n        :show-error=\"false\"\r\n        :show-error-message=\"false\">\r\n        <VanField\r\n          v-model=\"form.phone\"\r\n          name=\"phone\"\r\n          ref=\"phone\"\r\n          type=\"tel\"\r\n          placeholder=\"请填写手机号\"\r\n          @input=\"onPhoneChange\"\r\n          :rules=\"[\r\n            { required: true, message: '33003' },\r\n            {\r\n              pattern: phoneReg,\r\n              message: '33004',\r\n            },\r\n          ]\">\r\n          <template #left-icon>\r\n            <span class=\"prefix\"> +86 <span class=\"icon\">▼</span> </span>\r\n          </template>\r\n        </VanField>\r\n        <VanField\r\n          v-show=\"isShowCode\"\r\n          v-model=\"form.code\"\r\n          name=\"code\"\r\n          ref=\"code\"\r\n          type=\"digit\"\r\n          placeholder=\"请填写验证码\"\r\n          :rules=\"[{ required: true, message: '33005' }]\">\r\n          <template #button>\r\n            <div class=\"code\">\r\n              <CountDown\r\n                ref=\"formCount\"\r\n                :before-send=\"beforeSend\"></CountDown>\r\n            </div>\r\n          </template>\r\n        </VanField>\r\n        <div class=\"submit\" @click=\"Msubmit\">立即抢购</div>\r\n      </VanForm>\r\n    </div>\r\n    <div class=\"line\"></div>\r\n    <RecentBuy2 />\r\n    <img\r\n      v-for=\"(v, k) in detailImg\"\r\n      :key=\"k\"\r\n      :src=\"require(`@/assets/Scene/LiveEnhance12/${v}.png`)\"\r\n      alt=\"\" />\r\n    <Footer\r\n      :local-key=\"localKey\"\r\n      @submit=\"submit12\"\r\n      @submit199=\"submit199\"\r\n      @finish=\"changeSn\"></Footer>\r\n    <Tips v-model=\"showTips\" />\r\n    <StayDialog\r\n      v-model=\"showDialog\"\r\n      :is-live=\"true\"\r\n      @cancel=\"cancel\"\r\n      @confirm=\"confirm\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { codeMap } from './ErrorMsg'\r\nimport { getSearch } from '@/utils'\r\nimport RecentBuy2 from '@/components/RecentBuy2'\r\nimport Footer from '@/views/Scene/components/footer'\r\nimport CountDown from '@/components/common/CountDown'\r\nimport wxAuth from '@/helper/Auth/wxAuth'\r\nimport { mapState } from 'vuex'\r\nimport Tips from '../components/Tips'\r\nimport StayDialog from '../components/StayDialog'\r\nexport default {\r\n  components: {\r\n    CountDown,\r\n    RecentBuy2,\r\n    Footer,\r\n    Tips,\r\n    StayDialog\r\n  },\r\n  data () {\r\n    return {\r\n      localKey: 'Text12Wx',\r\n      detailImg: ['detail1', 'detail2', 'detail3', 'detail4'],\r\n      swipeList: [], // 轮播数组\r\n      paytype: 1, // 支付类型\r\n      isShowCode: false, // 是否显示验证码输入框\r\n      form: {},\r\n      showTips: false,\r\n      showDialog: false\r\n    }\r\n  },\r\n  async beforeRouteEnter (to, from, next) {\r\n    // 获取微信授权\r\n    await wxAuth({\r\n      getTokenQuery: { ...getSearch() }\r\n    })\r\n    next()\r\n  },\r\n  computed: {\r\n    ...mapState('user', ['userInfo'])\r\n  },\r\n  async created () {\r\n    const { id } = this.userInfo\r\n    this.$log.update({ mid: id })\r\n    this.$log.click({\r\n      module_ori: '基于页面',\r\n      module_part: '106_toufang_lm_0438'\r\n    })\r\n    const restTime = localStorage.getItem(this.localKey)\r\n    this.form = {\r\n      phone: localStorage.getItem('Text12Wx-phone'),\r\n      code: localStorage.getItem('Text12Wx-code')\r\n    }\r\n    if (this.form.phone) {\r\n      this.isShowCode = true\r\n    }\r\n    this.sn = restTime === '0' ? 'PRODUCT_SN_199_WM_LIVE' : 'PRODUCT_SN_12_WM_LIVE'\r\n    this.checkOrderInWx()\r\n    this.$wx.setShareData({\r\n      title: '8天精品小白理财直播课',\r\n      desc: '双师教学模式，帮你理论实践同步提升。改变从现在开始！',\r\n      imgUrl: 'https://wm-front-common.oss-cn-beijing.aliyuncs.com/wm-front-ad-miniapp/logo.png',\r\n      link: location.href\r\n    })\r\n  },\r\n  methods: {\r\n    // 立即抢购中部\r\n    Msubmit () {\r\n      this.$log.click({\r\n        module_part: '106_toufang_lm_0439',\r\n        module_ori: '中部【立即抢购】按钮'\r\n      })\r\n      this.submit()\r\n    },\r\n    // 底部199\r\n    submit199 () {\r\n      this.$log.click({\r\n        module_ori: '底部【立即报名】按钮',\r\n        module_part: '106_toufang_lm_0442'\r\n      })\r\n      this.submit()\r\n    },\r\n    /// / 底部12元\r\n    submit12 () {\r\n      this.$log.click({\r\n        module_ori: '底部【立即抢购】按钮',\r\n        module_part: '106_toufang_lm_0441'\r\n      })\r\n      this.submit()\r\n    },\r\n    // 使用优惠\r\n    confirm () {\r\n      this.$log.click({\r\n        module_part: '106_toufang_lm_0443',\r\n        module_ori: '点击弹窗【立即抢购】按钮'\r\n      })\r\n      this.submit()\r\n    },\r\n    // 放弃优惠\r\n    cancel () {\r\n      this.showDialog = false\r\n      this.$log.click({\r\n        module_part: '106_toufang_lm_0444',\r\n        module_ori: '弹窗【放弃优惠】按钮'\r\n      })\r\n    },\r\n    // 提交表单\r\n    submit () {\r\n      this.$refs.form.submit()\r\n    },\r\n    // 手机号变化\r\n    onPhoneChange (e) {\r\n      if (e.length >= 11) {\r\n        this.isShowCode = true\r\n      }\r\n    },\r\n    // 倒计时结束更换商品编号\r\n    changeSn () {\r\n      this.sn = 'PRODUCT_SN_199_WM_LIVE'\r\n      this.showDialog = false\r\n    },\r\n    // 表单校验失败\r\n    onSubmit (e) {\r\n      // 校验手机号和验证码\r\n      localStorage.setItem('Text12Wx-phone', this.form.phone)\r\n      localStorage.setItem('Text12Wx-code', this.form.code)\r\n      this.pay()\r\n    },\r\n    // 跳转老师二维码页面\r\n    goSucccess (sn) {\r\n      sn = sn || this.sn\r\n      console.log(sn)\r\n      this.$router.push({\r\n        name: 'QrcodeInWx',\r\n        query: {\r\n          productSn: sn\r\n        }\r\n      })\r\n    },\r\n    // 获取验证码\r\n    beforeSend (start) {\r\n      this.$log.click({\r\n        module_ori: '【获取验证码】按钮',\r\n        module_part: '106_toufang_lm_0440'\r\n      })\r\n      this.$refs.form\r\n        .validate('phone')\r\n        .then((res) => {\r\n          start()\r\n          this.$apis.userOperator.getPhoneCode({ phone: this.form.phone })\r\n        })\r\n        .catch((err) => {\r\n          err = { code: err.message }\r\n          this.showMsg(err)\r\n        })\r\n    },\r\n    // 弹出提示\r\n    showMsg (err) {\r\n      const { msg, code, data } = err\r\n      let confirmButtonText = '确定'\r\n      if (err.code === 30009) {\r\n        confirmButtonText = '查看老师'\r\n      }\r\n      this.$dialog({ message: msg || codeMap[code].msg, confirmButtonText }).then((res) => {\r\n        if (code === 30009) {\r\n          this.goSucccess(data.product_sn)\r\n        }\r\n        // 未填手机号|手机号有误\r\n        if ([33004, 33003].includes(Number(code))) {\r\n          this.$refs.phone.focus()\r\n        }\r\n        // 未填验证码｜验证码有误\r\n        if ([33002, 33005].includes(Number(code))) {\r\n          this.$refs.code.focus()\r\n        }\r\n        if (codeMap[err.code]) {\r\n          this.$log.click(codeMap[err.code].report)\r\n        }\r\n      })\r\n    },\r\n    // 表单验证错误\r\n    showErrorMsg (err) {\r\n      err = { code: err.errors[0].message }\r\n      this.showMsg(err)\r\n    },\r\n    checkOrderInWx () {\r\n      return this.$apis.payment\r\n        .checkOrderInWx({ product_sn: this.sn })\r\n        .catch((err) => {\r\n          this.showMsg(err)\r\n          return Promise.reject(err)\r\n        })\r\n    },\r\n    checkOrderInWxInterval () {\r\n      this.$apis.payment.checkOrderInWx({ product_sn: this.sn })\r\n        .catch(err => {\r\n          const { code, data } = err\r\n          if (code === 30009) {\r\n            this.goSucccess(data.product_sn)\r\n          }\r\n        })\r\n    },\r\n    async pay () {\r\n      this.showDialog = false\r\n      const sn = this.sn\r\n      this.$apis.payment.payInWx({\r\n        pay_type: 2,\r\n        pay_mode: 3,\r\n        ...getSearch(),\r\n        ...this.form,\r\n        product_sn: sn\r\n      })\r\n        .then(result => {\r\n          window.WeixinJSBridge.invoke('getBrandWCPayRequest', result, (res) => {\r\n            if (res.err_msg === 'get_brand_wcpay_request:ok') {\r\n              this.goSucccess(sn)\r\n            } else {\r\n              // 挽留弹框\r\n              console.log('显示挽留弹框')\r\n              if (sn === 'PRODUCT_SN_12_WM_LIVE') {\r\n                this.showDialog = true\r\n              }\r\n            }\r\n          })\r\n        })\r\n        .catch(err => {\r\n          this.showMsg(err)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.LiveEnhance12Wx {\r\n  padding-bottom: 106px;\r\n\r\n  .line {\r\n    width: 652px;\r\n    height: 2px;\r\n    margin: 30px auto;\r\n    background: url('~@/assets/Scene/line.png') no-repeat top/contain;\r\n    position: relative;\r\n    top: -50px;\r\n  }\r\n\r\n  img {\r\n    width: 100%;\r\n    vertical-align: top;\r\n  }\r\n\r\n  .formPay {\r\n    position: relative;\r\n    top: -36px;\r\n    width: 670px;\r\n    margin: 0 auto;\r\n    margin-bottom: 10px;\r\n    box-sizing: border-box;\r\n    padding: 30px 36px;\r\n    text-align: center;\r\n    background: #fff;\r\n    border-radius: 8px 8px 0 0;\r\n    // border-bottom: 2px dashed #333;\r\n\r\n    .formTips {\r\n      font-family: PingFangSC-Medium;\r\n      font-size: 26px;\r\n      color: #38465d;\r\n      margin-bottom: 38px;\r\n      text-align: center;\r\n    }\r\n\r\n    .submit {\r\n      width: 600px;\r\n      height: 88px;\r\n      font-family: PingFangSC-Regular, PingFang SC;\r\n      background: -webkit-linear-gradient(312deg, #ff5a00 0%, #ff3012 100%);\r\n      background: -o-linear-gradient(312deg, #ff5a00 0%, #ff3012 100%);\r\n      background: -moz-linear-gradient(312deg, #ff5a00 0%, #ff3012 100%);\r\n      background: linear-gradient(312deg, #ff5a00 0%, #ff3012 100%);\r\n      // box-shadow: 0 -6px 12px 0 rgba(232, 65, 0, 0.4);\r\n      border-radius: 54px;\r\n      font-size: 44px;\r\n      font-weight: 400;\r\n      color: #fff;\r\n      line-height: 88px;\r\n      // text-shadow: 0 4px 2px rgba(227, 38, 0, 0.6);\r\n      margin-bottom: 30px;\r\n    }\r\n\r\n    .code {\r\n      display: inline-block;\r\n      width: 229px;\r\n      height: 100%;\r\n      text-align: center;\r\n      // border-left: rgba(0, 0, 0, 0.2) solid 1px;\r\n      font-size: 32px;\r\n      font-weight: 500;\r\n      line-height: 32px;\r\n      font-family: PingFangSC-Regular;\r\n      color: #f3422f;\r\n    }\r\n\r\n    /deep/ .van-cell {\r\n      .prefix {\r\n        font-size: 32px;\r\n        font-weight: 500;\r\n        color: #2d2d2d;\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        .icon {\r\n          font-size: 25px;\r\n          margin-left: 10px;\r\n          color: #b9b7b7;\r\n        }\r\n\r\n        padding-right: 15px;\r\n      }\r\n\r\n      margin-bottom: 20px;\r\n      width: 600px;\r\n      height: 86px;\r\n      background: #f5f5f5;\r\n      border-radius: 8px;\r\n      border: 2px solid #ccc;\r\n      font-size: 30px;\r\n      font-family: SourceHanSansSC;\r\n      font-weight: 500;\r\n      color: #999;\r\n\r\n      &::after {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=78f5becd&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=78f5becd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78f5becd\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/detail1.1df89f5b.png\";","module.exports = __webpack_public_path__ + \"img/detail2.83b75dcd.png\";","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('VanDialog',{attrs:{\"show-confirm-button\":false,\"value\":_vm.value},on:{\"input\":function (val) { return this$1.$emit('input', val); }}},[_c('div',{staticClass:\"tips\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"很遗憾\")]),_c('div',{staticClass:\"content\"},[_vm._v(\" 您已经是微淼实践课学员，暂不能购买 \")]),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.$emit('input', false)}}},[_vm._v(\" 我知道了 \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <VanDialog\n    :show-confirm-button=\"false\"\n    :value=\"value\"\n    @input=\"(val) => this.$emit('input', val)\">\n    <div class=\"tips\">\n      <div class=\"title\">很遗憾</div>\n      <div class=\"content\">\n        您已经是微淼实践课学员，暂不能购买\n      </div>\n      <div class=\"btn\" @click=\"$emit('input', false)\">\n        我知道了\n      </div>\n    </div>\n  </VanDialog>\n</template>\n<script>\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    confirm () {\n      this.$emit('input', false)\n      this.$emit('confirm')\n    },\n    cancel () {\n      this.$emit('input', false)\n      this.$emit('cancel')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.tips {\n  width: 638px;\n  height: 360px;\n  background: #ffffff;\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  justify-content: space-evenly;\n  .title {\n    width: 120px;\n    height: 56px;\n    font-size: 40px;\n    font-family: PingFangSC-Medium, PingFang SC;\n    font-weight: 500;\n    color: #353535;\n    line-height: 56px;\n  }\n  .content {\n    width: 544px;\n    height: 44px;\n    font-size: 32px;\n    font-family: PingFangSC-Regular, PingFang SC;\n    font-weight: 400;\n    color: #353535;\n    line-height: 44px;\n  }\n  .btn {\n    width: 304px;\n    height: 80px;\n    background: linear-gradient(132deg, #ff9000 0%, #ff7509 100%);\n    border-radius: 40px;\n    font-size: 32px;\n    font-family: PingFangSC-Regular, PingFang SC;\n    font-weight: 400;\n    color: #ffffff;\n    text-align: center;\n    line-height: 80px;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tips.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tips.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tips.vue?vue&type=template&id=5577b578&\"\nimport script from \"./Tips.vue?vue&type=script&lang=js&\"\nexport * from \"./Tips.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tips.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * @Date: 2021-01-14 20:38:58\n * @author: zjs\n * @description: 微信内的授权\n */\nimport Store from '@/store'\n\nexport default async (model) => {\n  const { notUserInfo, notWxConfig, getTokenQuery } = model || {}\n  // 换token\n  if (localStorage.getItem('wxauth')) {\n    await Store.dispatch('user/getToken', getTokenQuery)\n  }\n  // 获取用户信息\n  if (!notUserInfo && !Store.state.user.userInfo) {\n    await Store.dispatch('user/getUserInfo')\n  }\n  // 不存在微信授权信息，获取授权信息\n  if (!notWxConfig && !Store.state.user.wxConfig) {\n    await Store.dispatch('user/getWxConfig')\n  }\n}\n","var map = {\n\t\"./detail1.png\": \"8e35\",\n\t\"./detail2.png\": \"c41d\",\n\t\"./detail3.png\": \"5b12\",\n\t\"./detail4.png\": \"5a00\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"dbb7\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tips.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}