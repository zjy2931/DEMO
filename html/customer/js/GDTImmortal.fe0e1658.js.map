{"version":3,"sources":["webpack:///./src/views/GDTImmortal/index.vue?363f","webpack:///./node_modules/core-js/internals/get-substitution.js","webpack:///./src/components/BaseImgPage.vue?8ce8","webpack:///src/components/BaseImgPage.vue","webpack:///./src/components/BaseImgPage.vue?c524","webpack:///./src/components/BaseImgPage.vue","webpack:///./src/helper/payMent.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./src/components/CountDownBtn.vue?d7d8","webpack:///src/components/CountDownBtn.vue","webpack:///./src/components/CountDownBtn.vue?10bd","webpack:///./src/components/CountDownBtn.vue","webpack:///./src/helper/payConfig.js","webpack:///./src/helper/clickLog.js","webpack:///./src/components/BaseImgPage.vue?6db5","webpack:///./src/helper/reg.js","webpack:///./src/helper/Auth/wxAuth.js","webpack:///./src/views/GDTImmortal/index.vue?1412","webpack:///src/views/GDTImmortal/index.vue","webpack:///./src/views/GDTImmortal/index.vue?a0ec","webpack:///./src/views/GDTImmortal/index.vue"],"names":["toObject","floor","Math","replace","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","module","exports","matched","str","position","captures","namedCaptures","replacement","tailPos","length","m","symbols","undefined","call","match","ch","capture","charAt","slice","n","f","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","key","attrs","imgPath","_t","staticRenderFns","props","maxImg","type","Number","default","String","component","hrefConfigList","PRODUCT_SN_XIAOBAI_12","PRODUCT_SN_XIAOBAI_7","PRODUCT_SN_XIAOBAI_1","PRODUCT_SN_XIAOBAI_0","hrefErrorCode","isHrefByCode","result","code","data","includes","product_sn","localStorage","setItem","order_num","Router","name","isBuyOrder","val","buyPhone","getItem","phone","isPhone","Store","$apis","payment","checkOrder","catch","err","Promise","reject","submitPay","model","apiQuery","successBack","payOverBack","errorBack","paytype","JSON","stringify","pay","url","$store","commit","location","href","decodeURIComponent","isReSet","document","getElementById","parentNode","removeChild","div","createElement","id","innerHTML","body","appendChild","forms","submit","wxSubmitValed","msg","userOperator","phoneCheckCode","checkOrderInWx","inWxPay","payInWx","pay_type","pay_mode","postBack","resolve","window","WeixinJSBridge","invoke","res","err_msg","fixRegExpWellKnownSymbolLogic","fails","anObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","getSubstitution","regExpExec","wellKnownSymbol","REPLACE","max","min","maybeToString","it","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_SUPPORTS_NAMED_GROUPS","re","exec","groups","a","_","nativeReplace","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","string","indexOf","done","value","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","push","matchStr","accumulatedResult","nextSourcePosition","i","j","replacerArgs","concat","apply","on","getPhoneCode","_v","_s","codeTime","getCodeSuccessBack","Function","getCodeErrorBack","params","Object","timerObj","methods","protocol","host","hash","search","pathname","getSearch","link","clickLog","$log","click","current_page","module_ori","module_part","message","test","notUserInfo","notWxConfig","getTokenQuery","dispatch","state","user","userInfo","wxConfig","callback","$$v","trim","expression","submitClick","components"],"mappings":"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","file":"js/GDTImmortal.fe0e1658.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a37fd0d4&lang=scss&scoped=true&\"","var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-GDTBaseImgPage\"},[_vm._l((_vm.maxImg),function(item,index){return _c('img',{key:index,attrs:{\"src\":(_vm.imgPath + \"/\" + (index+1) + \".jpg\")}})}),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page-GDTBaseImgPage\">\n    <img\n      v-for=\"(item, index) in maxImg\"\n      :key=\"index\"\n      :src=\"`${imgPath}/${index+1}.jpg`\">\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    maxImg: { // 图片有多少张\n      type: Number,\n      default: 0\n    },\n    imgPath: { // 图片存放路径\n      type: String,\n      default: ''\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.page-GDTBaseImgPage {\n  width: 100%;\n\n  img {\n    max-width: 100%;\n    vertical-align: middle;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseImgPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseImgPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseImgPage.vue?vue&type=template&id=cce7d58c&\"\nimport script from \"./BaseImgPage.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseImgPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BaseImgPage.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Store from '@/store'\r\nimport Router from '@/router'\r\nimport { postBack } from '@/helper/payConfig'\r\nimport { isPhone } from '@/utils'\r\n\r\n// 根据反馈的code判断跳转链接\r\nconst hrefConfigList = {\r\n  PRODUCT_SN_XIAOBAI_12: 'SuccessEnrollWM',\r\n  PRODUCT_SN_XIAOBAI_7: 'SuccessEnrollWM',\r\n  PRODUCT_SN_XIAOBAI_1: 'SuccessEnrollMH',\r\n  PRODUCT_SN_XIAOBAI_0: 'SuccessEnrollMH'\r\n}\r\n// 需要跳转的code\r\nconst hrefErrorCode = [\r\n  30006, // 已经购买过同一种\r\n  30009 // 已经购买过同一类,\r\n]\r\n/**\r\n * @Date: 2021-01-15 16:30:35\r\n * @author: zjs\r\n * @description: 根据code 判断是否需要跳转\r\n */\r\nexport function isHrefByCode (result) {\r\n  const { code, data } = result\r\n  if (hrefErrorCode.includes(code) && hrefConfigList[data.product_sn]) {\r\n    localStorage.setItem('guide_order_num', data.order_num)\r\n    Router.replace({ name: 'Officals' })\r\n    return code\r\n  }\r\n  return code\r\n}\r\n\r\nexport async function isBuyOrder (val) {\r\n  // 获取上一次订单的手机号\r\n  const buyPhone = localStorage.getItem('buyPhone')\r\n  const phone = val || buyPhone\r\n  if (!isPhone(phone)) return\r\n  await Store.$apis.payment.checkOrder({ phone }).catch(err => {\r\n    isHrefByCode(err)\r\n    return Promise.reject(err)\r\n  })\r\n}\r\n/**\r\n * @Date: 2021-01-14 17:50:43\r\n * @author: zjs\r\n * @description: mid查询是否购买\r\n */\r\nexport async function isBuyOrderMid () {\r\n  await Store.$apis.payment.checkOrderInWx().catch(err => {\r\n    isHrefByCode(err)\r\n    return Promise.reject(err)\r\n  })\r\n}\r\n\r\n/**\r\n  * @Date: 2020-12-29 12:34:40\r\n  * @author: zjs\r\n  * @description:提交支付\r\n  */\r\nexport async function submitPay (model) {\r\n  const { apiQuery, successBack, payOverBack, errorBack } = model || {}\r\n  try {\r\n    typeof successBack === 'function' && successBack()\r\n    const { phone, code, paytype } = apiQuery\r\n    // 存储手机号验证码等\r\n    localStorage.setItem('buyPhone', phone)\r\n    localStorage.setItem('guide_phone', phone)\r\n    localStorage.setItem('code', code)\r\n    localStorage.setItem('payType', paytype)\r\n    localStorage.setItem('lastPayQuery', JSON.stringify(apiQuery))\r\n    const data = await this.$apis.payment.pay(apiQuery)\r\n    const url = data.url\r\n    if (url) {\r\n      // 记录打开挽留弹窗\r\n      localStorage.setItem('backDialogMark', true)\r\n      this.$store.commit('ABTest/SET_BACK_DIALOG_MARK', true)\r\n      // 支付前路由存储\r\n      typeof payOverBack === 'function' && payOverBack()\r\n      location.href = decodeURIComponent(url)\r\n    } else {\r\n      typeof payOverBack === 'function' && payOverBack()\r\n      // 记录打开挽留弹窗\r\n      localStorage.setItem('backDialogMark', true)\r\n      this.$store.commit('ABTest/SET_BACK_DIALOG_MARK', true)\r\n      // 更新阿里支付表单\r\n      const isReSet = document.getElementById('aLiPay')\r\n      if (isReSet) { isReSet.parentNode.removeChild(isReSet) }\r\n      const div = document.createElement('div')\r\n      div.id = 'aLiPay'\r\n      div.innerHTML = data\r\n      document.body.appendChild(div)\r\n      document.forms[0].submit()\r\n    }\r\n  } catch (error) {\r\n    const { data } = error\r\n    typeof errorBack === 'function' && errorBack(data)\r\n  }\r\n}\r\n/**\r\n * @Date: 2021-01-18 10:19:32\r\n * @author: zjs\r\n * @description: 提交校验\r\n */\r\nexport async function wxSubmitValed (model) {\r\n  try {\r\n    const { phone, code } = model\r\n    // 手机号校验\r\n    // eslint-disable-next-line prefer-promise-reject-errors\r\n    if (!isPhone(phone)) return Promise.reject({ code: 33001, msg: '手机号有误，请重填' })\r\n    // 验证码校验\r\n    await Store.$apis.userOperator.phoneCheckCode({ phone, code })\r\n    // 订单校验\r\n    await Store.$apis.payment.checkOrderInWx()\r\n  } catch (error) {\r\n    return Promise.reject(error.data)\r\n  }\r\n}\r\n\r\n/**\r\n * @Date: 2021-01-19 16:29:55\r\n * @author: zjs\r\n * @description: 微信内支付\r\n */\r\nexport async function inWxPay (model) {\r\n  try {\r\n    const result = await Store.$apis.payment.payInWx({\r\n      pay_type: 2,\r\n      pay_mode: 3,\r\n      ...model,\r\n      ...postBack()\r\n    })\r\n    return new Promise((resolve) => {\r\n      window.WeixinJSBridge.invoke('getBrandWCPayRequest', result,\r\n        (res) => {\r\n          resolve(res.err_msg)\r\n        })\r\n    })\r\n  } catch (error) {\r\n    return Promise.reject(error.data)\r\n  }\r\n}\r\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      if (\n        typeof replaceValue === 'string' &&\n        replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1 &&\n        replaceValue.indexOf('$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, this, string, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{on:{\"click\":_vm.getPhoneCode}},[_vm._v(\" \"+_vm._s(_vm.codeTime ? (_vm.codeTime + \"s\") : \"获取验证码\")+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <p @click=\"getPhoneCode\">\n    {{ codeTime ? `${codeTime}s` : \"获取验证码\" }}\n  </p>\n</template>\n\n<script>\nimport { isPhone } from '@/helper/reg'\n\nexport default {\n  props: {\n    getCodeSuccessBack: { // 验证码成功回调\n      type: Function,\n      default: null\n    },\n    getCodeErrorBack: { // 验证码失败回调\n      type: Function,\n      default: null\n    },\n    phone: { // 手机号\n      type: String,\n      default: ''\n    },\n    params: { // 发送验证码参数\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data () {\n    return {\n      codeTime: 0, // 验证码倒计时\n      timerObj: 1 // 定时器对象\n    }\n  },\n  methods: {\n    /**\n     * @Date: 2020-12-29 11:16:53\n     * @author: zjs\n     * @description: 获取手机验证码\n     */\n    async getPhoneCode ({ successBack = this.getCodeSuccessBack, errorBack = this.getCodeErrorBack }) {\n      const { phone, codeTime } = this\n      if (codeTime) return\n      if (!isPhone(phone)) {\n        // 失败回调\n        typeof errorBack === 'function' && errorBack()\n        return\n      }\n      try {\n        this.codeTime = 60\n        // 倒计时\n        this.timerObj = setInterval(() => {\n          this.codeTime--\n          if (!this.codeTime)clearInterval(this.timerObj)\n        }, 1000)\n        // 获取验证码\n        await this.$apis.userOperator.getPhoneCode({\n          phone,\n          ...this.params\n        })\n        // 存获取验证码时间\n        localStorage.setItem('getCodeTime', new Date().getTime())\n        // 成功回调\n        typeof successBack === 'function' && successBack()\n      } catch (error) {\n        // 失败回调\n        typeof errorBack === 'function' && errorBack(error)\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountDownBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CountDownBtn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CountDownBtn.vue?vue&type=template&id=dfaafc9a&\"\nimport script from \"./CountDownBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./CountDownBtn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { getSearch } from '@/utils'\n/**\n * @Date: 2021-1-12 11:23:49\n * @author: zw\n * @description: 回传相关参数\n * @param {*} phone\n * @param {*} message\n */\nexport function postBack () {\n  const { protocol, host, hash, search, pathname } = location\n  return {\n    ...getSearch(), // get参数,协议,域名,链接等参数用于回传\n    protocol,\n    host,\n    link: pathname + search + hash\n  }\n}\n","/**\n * @Date: 2020-12-31 16:12:22\n * @author: zjs\n * @description: 点击埋点\n */\nimport Store from '@/store'\n\nexport function clickLog (model) {\n  Store.$log.click({\n    current_page: location.href,\n    module_ori: model.module_ori,\n    module_part: model.module_part\n  })\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseImgPage.vue?vue&type=style&index=0&lang=scss&\"","import { Dialog } from 'vant'\n\n/**\n * @Date: 2020-12-29 11:23:49\n * @author: zjs\n * @description: 校验手机号\n * @param {*} phone\n * @param {*} message\n */\nfunction isPhone (phone, message = '手机号码有误，请重填') {\n  if (!phone) {\n    Dialog({ message: '请填写手机号' })\n    return false\n  }\n  if (!(/^[1]([3-9])[0-9]{9}$/.test(phone))) {\n    Dialog({ message })\n    return false\n  }\n  return true\n}\nexport {\n  isPhone\n}\n","/**\n * @Date: 2021-01-14 20:38:58\n * @author: zjs\n * @description: 微信内的授权\n */\nimport Store from '@/store'\n\nexport default async (model) => {\n  const { notUserInfo, notWxConfig, getTokenQuery } = model || {}\n  // 换token\n  if (localStorage.getItem('wxauth')) {\n    await Store.dispatch('user/getToken', getTokenQuery)\n  }\n  // 获取用户信息\n  if (!notUserInfo && !Store.state.user.userInfo) {\n    await Store.dispatch('user/getUserInfo')\n  }\n  // 不存在微信授权信息，获取授权信息\n  if (!notWxConfig && !Store.state.user.wxConfig) {\n    await Store.dispatch('user/getWxConfig')\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BaseImgPage',{attrs:{\"max-img\":_vm.maxImg,\"img-path\":_vm.imgPath}},[[_c('div',{staticClass:\"page-GDTCartoon\"},[_c('VanField',{attrs:{\"clearable\":\"\",\"placeholder\":\"您的手机号\"},on:{\"click\":_vm.checkOrderInWx},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"phone\"}}),_c('div',{staticClass:\"code-box mt__30\"},[_c('VanField',{attrs:{\"clearable\":\"\",\"placeholder\":\"验证码\"},on:{\"click\":_vm.checkOrderInWx},model:{value:(_vm.code),callback:function ($$v) {_vm.code=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"code\"}}),_c('CountDownBtn',{staticClass:\"phone-code\",attrs:{\"get-code-success-back\":_vm.getCodeSuccessBack,\"get-code-error-back\":_vm.getCodeErrorBack,\"phone\":_vm.phone}})],1),_c('div',{staticClass:\"submit-btn\",on:{\"click\":_vm.submitClick}},[_vm._v(\"立即抢课\")])],1),_c('img',{attrs:{\"src\":\"http://wm-front-common.oss-cn-beijing.aliyuncs.com/wm-front-landing-page-mobile-custom/assets/GDTImmortal/end.jpg')\"}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <BaseImgPage :max-img=\"maxImg\" :img-path=\"imgPath\">\n    <template>\n      <div class=\"page-GDTCartoon\">\n        <!-- 手机号部分 -->\n        <VanField\n          v-model.trim=\"phone\"\n          clearable\n          @click=\"checkOrderInWx\"\n          placeholder=\"您的手机号\">\n        </VanField>\n        <div class=\"code-box mt__30\">\n          <VanField\n            v-model.trim=\"code\"\n            @click=\"checkOrderInWx\"\n            clearable\n            placeholder=\"验证码\">\n          </VanField>\n          <CountDownBtn\n            :get-code-success-back=\"getCodeSuccessBack\"\n            :get-code-error-back=\"getCodeErrorBack\"\n            class=\"phone-code\"\n            :phone=\"phone\"></CountDownBtn>\n        </div>\n        <div class=\"submit-btn\" @click=\"submitClick\">立即抢课</div>\n      </div>\n      <img src=\"http://wm-front-common.oss-cn-beijing.aliyuncs.com/wm-front-landing-page-mobile-custom/assets/GDTImmortal/end.jpg')\">\n    </template>\n  </BaseImgPage>\n</template>\n<script>\nimport CountDownBtn from '@/components/CountDownBtn'\nimport { wxSubmitValed, inWxPay } from '@/helper/payMent'\nimport wxAuth from '@/helper/Auth/wxAuth'\nimport BaseImgPage from '@/components/BaseImgPage'\nimport { postBack } from '@/helper/payConfig'\nimport Store from '@/store'\nimport { clickLog } from '@/helper/clickLog'\nimport { Dialog } from 'vant'\n\nexport default {\n  components: { BaseImgPage, CountDownBtn },\n  async beforeRouteEnter (to, from, next) {\n    try {\n      // 获取微信授权\n      await wxAuth({ getTokenQuery: postBack() })\n      const { id, wx_body: { openid }, unionid } = Store.state.user.userInfo || {}\n      Store.$log.update({ mid: id, openid, unionid })\n      next()\n    } catch (error) {\n      console.log(error)\n    }\n  },\n  data: () => ({\n    submitLoading: false, // 提交loading\n    maxImg: 12, // 图片有多少张\n    imgPath: 'http://wm-front-common.oss-cn-beijing.aliyuncs.com/wm-front-landing-page-mobile-custom/assets/GDTImmortal', // 图片存放路径\n    phone: '', // 手机号\n    code: '' // 验证码\n  }),\n  async created () {\n    // 检查订单\n    this.checkOrderInWx()\n    // 微信支付兼容\n    if (typeof window.WeixinJSBridge === 'undefined') {\n      if (document.addEventListener) {\n        document.addEventListener('WeixinJSBridgeReady', this.inWxPay, false)\n      } else if (document.attachEvent) {\n        document.attachEvent('WeixinJSBridgeReady', this.inWxPay)\n        document.attachEvent('onWeixinJSBridgeReady', this.inWxPay)\n      }\n    }\n    const { phone, code } = JSON.parse(localStorage.getItem('GDTImmortal-reset')) || {}\n    this.phone = phone\n    this.code = code\n  },\n  methods: {\n    clickLog, // 埋点\n    wxSubmitValed, // 提交校验\n    inWxPay, // 支付\n    async checkOrderInWx () {\n      return await Store.$apis.payment.checkOrderInWx().catch(err => {\n        if (err.code === 30009) {\n          this.$router.push({ name: 'BaiduPcTeacherQrCode' })\n        }\n        throw new Error(err.msg)\n      })\n    },\n    /**\n     * @Date: 2021-01-25 18:43:15\n     * @author: zjs\n     * @description: 获取验证码成功\n     */\n    getCodeSuccessBack () {\n      clickLog({\n        module_ori: '表单提交',\n        module_part: '106_toufang_lcx_0146'\n      })\n    },\n    /**\n     * @Date: 2021-01-25 18:43:15\n     * @author: zjs\n     * @description: 获取验证码成功\n     */\n    getCodeErrorBack () {\n      clickLog({\n        module_ori: '表单错误模块',\n        module_part: '106_toufang_lcx_0149'\n      })\n    },\n    /**\n     * @Date: 2021-01-18 12:20:02\n     * @author: zjs\n     * @description: 立即抢课被点击\n     */\n    async submitClick () {\n      this.$apis.userOperator.report()\n      try {\n        if (this.submitLoading) return\n        this.submitLoading = true\n        clickLog({\n          module_ori: '表单提交',\n          module_part: '106_toufang_lcx_0147'\n        })\n        await this.checkOrderInWx()\n        const { phone, code } = this\n        // 校验\n        await this.wxSubmitValed({ phone, code })\n        // 支付\n        const payResult = await this.inWxPay({ phone, code })\n        localStorage.setItem('GDTImmortal-reset', JSON.stringify({ phone, code }))\n        if (payResult === 'get_brand_wcpay_request:ok') {\n          await Store.dispatch('user/getUserInfo')\n          this.$router.replace({ name: 'BaiduPcTeacherQrCode' })\n        }\n      } catch (error) {\n        const errorCodeMap = {\n          33001: '106_toufang_lcx_0148', // 手机号不行\n          33002: '106_toufang_lcx_0149', // 验证码不行\n          30009: '106_toufang_lcx_0150', // 已学习\n          30010: '106_toufang_lcx_0151'// 已购买\n        }\n        const { code, msg } = error\n        errorCodeMap[code] && clickLog({\n          module_ori: '表单错误模块',\n          module_part: errorCodeMap[code]\n        })\n        ;[33001, 33002].includes(code) && Dialog({ message: msg })\n        // 分别代表已经买过或学习过这种这类课程要去二维码页\n        if (code === 30009) {\n          await Store.dispatch('user/getUserInfo')\n          this.$router.replace({ name: 'BaiduPcTeacherQrCode' })\n        }\n      } finally {\n        this.submitLoading = false\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.page-GDTCartoon {\n  width: 100%;\n  background: url(\"../../assets/GDTImmortal/bg.jpg\");\n  background-size: 100% 100%;\n  min-height: 550px;\n  padding: 70px 50px 25px;\n\n  .van-field {\n    width: 647px;\n    height: 86px;\n    background: #fff;\n    border: 2px solid #b4b4b4;\n    border-radius: 3px;\n\n    &::placeholder {\n      font-size: 27px;\n      font-weight: 400;\n      color: #b9b9b9;\n    }\n  }\n\n  .code-box {\n    width: 647px;\n    height: 86px;\n    background: #fff;\n    display: flex;\n    border: 2px solid #b4b4b4;\n    border-radius: 3px;\n\n    .van-field {\n      border: 0;\n      width: 427px;\n      height: 82px;\n\n      &::placeholder {\n        font-size: 27px;\n        font-weight: 400;\n        color: #b9b9b9;\n      }\n    }\n  }\n\n  .phone-code {\n    @include horVerCenter;\n\n    padding-right: 32px;\n    margin-top: 16px;\n    text-align: center;\n    width: 170px;\n    height: 48px;\n    font-size: 32px;\n    font-weight: 500;\n    color: #eb3f3c;\n    border-left: 2px solid #b4b4b4;\n    padding-left: 30px;\n  }\n\n  .submit-btn {\n    @include horVerCenter;\n\n    width: 647px;\n    height: 102px;\n    margin-top: 40px;\n    background: #fa6c67;\n    border-radius: 3px;\n    font-size: 40px;\n    font-weight: bold;\n    color: #fff;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a37fd0d4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=a37fd0d4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a37fd0d4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}